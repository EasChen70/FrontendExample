<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProfileFrontEnd</title>
    <style>
        body{text-align: center; background-color: rgb(192, 177, 244); color: rgb(255, 255, 255)}
        .Banner img {
            max-width: 80%; /* Adjust this percentage to limit the image size */
            height: auto; /* Maintain aspect ratio */}
        #docForm {background-color: rgb(159, 82, 232);}
    </style>
</head>
<body>
    <div class = "Banner">
        <img src = "Banner.png" alt = "Bannerimg"> <br>
    </div>

    <div id = "docForm">
        <button id = "User1">View User 1</button> 
        <button id = "User2">View User 2</button> <br>
        <h4 id = "findName" type = "text"></h4>
        <h4 id = "findLocation" type = "text"></h4>
        <h4 id = "findHobbies" type = "text"></h4>
        <h4 id = "findImage" type = "text"></h4>
        <h4 id = "findDate" type = "text"></h4>
    </div>

    <div id = "embeddedApp">
        <br><br>
        <br><br>
        <br><br>
        <iframe src="https://thunkable.site/w/Dh194kHm6dPL8TX7lncpe" width="80%" height="800px" frameborder="0" scrolling = "no"></iframe>
    </div>
    

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyDuuVtLpH0LUXvjQyfuaIyv5pwBMXLOIIg",
          authDomain: "profileapp-1ee8b.firebaseapp.com",
          databaseURL: "https://profileapp-1ee8b-default-rtdb.firebaseio.com",
          projectId: "profileapp-1ee8b",
          storageBucket: "profileapp-1ee8b.appspot.com",
          messagingSenderId: "312186587644",
          appId: "1:312186587644:web:e352af13ea64a8eec58a79",
          measurementId: "G-M9TCR6WVDB"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        import {getDatabase, set, get, update, remove, ref, child}
        from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"

        const db = getDatabase();

        var findName = document.querySelector("#findName")
        var findLocation = document.querySelector("#findLocation")
        var findHobbies = document.querySelector("#findHobbies")
        var findImage = document.querySelector("#findImage")
        var findDate = document.querySelector("#findDate")


        var isData1Visible = false;
        var isData2Visible = false;

        var toggle1Btn = document.querySelector("#User1")
        var toggle2Btn = document.querySelector("#User2")

        function showData1(){
            const dbref = ref(db);
            get(child(dbref, "aVh1wURdDLaxYrU9tezr6sYwCQv1/"))
            .then((snapshot)=>{
                if(snapshot.exists()){
                    isData1Visible = !isData1Visible;
                    if(isData1Visible){
                    findName.innerHTML = "Name: " + snapshot.val().name;
                    findLocation.innerHTML = "Location: " + snapshot.val().location;
                    findHobbies.innerHTML = "Hobbies: " + snapshot.val().hobbies;
                    findImage.innerHTML= "Image: " + snapshot.val().image;
                    findDate.innerHTML = "Date: " + snapshot.val().date;
                } else {
                    findName.innerHTML = ""
                    findLocation.innerHTML = ""
                    findHobbies.innerHTML = ""
                    findImage.innerHTML= ""
                    findDate.innerHTML = ""
                }
                } else {
                    alert("Something went wrong")
                }
            })
            .catch((error)=>{
                alert(error);
            });
        }

        function showData2(){
            const dbref = ref(db);
            get(child(dbref, "kXkeQMY2vuTY9A8e91m9fC0pPwS2/"))
            .then((snapshot)=>{
                if(snapshot.exists()){
                    isData1Visible = !isData1Visible;
                    if(isData1Visible){
                    findName.innerHTML = "Name: " + snapshot.val().name;
                    findLocation.innerHTML = "Location: " + snapshot.val().location;
                    findHobbies.innerHTML = "Hobbies: " + snapshot.val().hobbies;
                    findImage.innerHTML= "Image: " + snapshot.val().image;
                    findDate.innerHTML = "Date: " + snapshot.val().date;
                } else {
                    findName.innerHTML = ""
                    findLocation.innerHTML = ""
                    findHobbies.innerHTML = ""
                    findImage.innerHTML= ""
                    findDate.innerHTML = ""
                }
                } else {
                    alert("Something went wrong")
                }
            })
            .catch((error)=>{
                alert(error);
            });
        }

        toggle1Btn.addEventListener('click', showData1);
        toggle2Btn.addEventListener('click', showData2);
      </script>

</body>
</html>